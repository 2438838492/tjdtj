(()=>{var t={664:(t,e,n)=>{function i(t={}){let e=Object.assign({lineWidth:.5,lineNum:2,dotR:1,dotNum:15,preGroundColor:[10,80],backGroundColor:[150,250],fontSize:20,fontFamily:["Georgia","微软雅黑","Helvetica","Arial"],fontStyle:"fill",content:"acdefhijkmnpwxyABCDEFGHJKMNPQWXY12345789",length:4},t);Object.keys(e).forEach((t=>{this[t]=e[t]})),this.canvas=null,this.paint=null}t=n.nmd(t),i.prototype.getRandom=function(...t){return t.sort(((t,e)=>t-e)),Math.floor(Math.random()*(t[1]-t[0])+t[0])},i.prototype.getColor=function(t){let e=new Array(3).fill("");return e=e.map((e=>this.getRandom(...t))),e},i.prototype.getText=function(){let t=this.content.length,e="";for(let n=0;n<this.length;n++)e+=this.content[this.getRandom(0,t)];return e},i.prototype.line=function(){for(let t=0;t<this.lineNum;t++){let t=this.getRandom(0,this.canvas.width),e=this.getRandom(0,this.canvas.height),n=this.getRandom(0,this.canvas.width),i=this.getRandom(0,this.canvas.height);this.paint.beginPath(),this.paint.lineWidth=this.lineWidth;let o=this.getColor(this.preGroundColor);this.paint.strokeStyle="rgba("+o[0]+","+o[1]+","+o[2]+",0.8)",this.paint.moveTo(t,e),this.paint.lineTo(n,i),this.paint.closePath(),this.paint.stroke()}},i.prototype.circle=function(){for(let t=0;t<this.dotNum;t++){let t=this.getRandom(0,this.canvas.width),e=this.getRandom(0,this.canvas.height);this.paint.beginPath(),this.paint.arc(t,e,this.dotR,0,2*Math.PI,!1),this.paint.closePath();let n=this.getColor(this.preGroundColor);this.paint.fillStyle="rgba("+n[0]+","+n[1]+","+n[2]+",0.8)",this.paint.fill()}},i.prototype.font=function(){let t=this.getText();this.callback(t),this.paint.font=this.fontSize+"px "+this.fontFamily[this.getRandom(0,this.fontFamily.length)],this.paint.textBaseline="middle";let e=this.fontStyle+"Text",n=this.fontStyle+"Style";for(let i=0;i<this.length;i++){let o=this.paint.measureText(t[i]).width,r=this.getRandom(this.canvas.width/this.length*i+.2*o,this.canvas.width/this.length*i+.5*o),s=this.getRandom(-6,6),a=this.getColor(this.preGroundColor);this.paint[n]="rgba("+a[0]+","+a[1]+","+a[2]+",0.8)",this.paint.save(),this.paint.rotate(s*Math.PI/180),this.paint[e](t[i],r,this.canvas.height/2),this.paint.restore()}},i.prototype.draw=function(t,e=function(){}){if(!this.paint){if(this.canvas=t,!this.canvas)return;this.paint=this.canvas.getContext("2d"),this.callback=e,this.canvas.onclick=()=>{this.drawAgain()}}let n=this.getColor(this.backGroundColor);this.paint.fillStyle="rgba("+n[0]+","+n[1]+","+n[2]+",0.8)",this.paint.fillRect(0,0,this.canvas.width,this.canvas.height),this.circle(),this.line(),this.font()},i.prototype.clear=function(){this.paint.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.drawAgain=function(){this.clear(),this.draw(this.callbak)},!t.nodeType&&t.exports&&(t.exports=i)},2239:(t,e,n)=>{"use strict";n.r(e)},9559:(t,e,n)=>{"use strict";n.r(e)},6941:(t,e,n)=>{"use strict";n.r(e)},8080:(t,e,n)=>{"use strict";n.r(e)},9980:t=>{t.exports={get:function(t){return document.querySelector(t)},getAll:function(t){return document.querySelector(t)}}}},e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i](o,o.exports,n),o.loaded=!0,o.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{n(2239),n(9559),n(6941),n(8080);const t=n(9980),e=n(664);let i,o=/^1[3456789]\d{9}$/im,r=/\w{2,16}/im;document.querySelector("button").addEventListener("click",(function(e){if(function(){let e=document.querySelector("#username").value;if(document.querySelector("#pws").value,o.test(e))return document.querySelector("#username").style.border="5px solid green",s;document.querySelector("#username").style.border="5px solid red",t.get(".mes").innerText="亲输入正确的手机号"}()&&function(){if(document.querySelector("#code").value===i)return document.querySelector("#code").style.border="5px solid green",s;document.querySelector("#code").style.border="5px solid red",t.get(".mes").innerText="亲输入验证码"}()&&function(){let e=document.querySelector("#pws").value;if(r.test(e))return document.querySelector("#pws").style.border="5px solid green",s;document.querySelector("#pws").style.border="5px solid red",t.get(".mes").innerText="亲输入密码"}()&&function(){if(document.querySelector("#pws").value===document.querySelector("#sure").value)return document.querySelector("#sure").style.border="5px solid green",s;document.querySelector("#sure").style.border="5px solid red",t.get(".mes").innerText="两次密码不一样"}()){let t=document.querySelector("#username").value,e=document.querySelector("#pws").value,n=new XMLHttpRequest;n.open("post","http://47.96.154.185:3701/api/user/register"),n.setRequestHeader("Content-Type","application/json");let i=JSON.stringify({account:t,password:e});n.send(i),n.addEventListener("readystatechange",(function(t){if(4===n.readyState&&200===n.status){let t=n.responseText;0===JSON.parse(t).errno?(alert(" 恭喜你注册成功 "),location.href="./login.html"):alert("账户已存在")}}))}})),document.addEventListener("DOMContentLoaded",(function(t){(new e).draw(document.querySelector("#captcha1"),(t=>{i=t.toLowerCase()}))}));let s=!0})()})();